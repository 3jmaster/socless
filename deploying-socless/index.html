



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://twilio-labs.github.io/socless/deploying-socless/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Deploying Socless - SOCless Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#introduction" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://twilio-labs.github.io/socless/" title="SOCless Docs" aria-label="SOCless Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              SOCless Docs
            </span>
            <span class="md-header-nav__topic">
              
                Deploying Socless
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://twilio-labs.github.io/socless/" title="SOCless Docs" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    SOCless Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" title="Deploying Socless" class="md-nav__link md-nav__link--active">
      Deploying Socless
    </a>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../key-concepts-and-terms/" title="Key Concepts and Terms" class="md-nav__link">
      Key Concepts and Terms
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1">
    
    <label class="md-nav__link" for="nav-4-1">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting Started Tutorial" class="md-nav__link">
      Getting Started Tutorial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../your-first-integration-geolocating-an-ip/" title="Your First Integration: Geolocating an IP" class="md-nav__link">
      Your First Integration: Geolocating an IP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../your-second-integration-sending-a-slack-message/" title="Your Second Integration: Sending a Slack Message" class="md-nav__link">
      Your Second Integration: Sending a Slack Message
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../your-first-playbook/" title="Your First Playbook" class="md-nav__link">
      Your First Playbook
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../your-first-endpoint/" title="Your First Endpoint" class="md-nav__link">
      Your First Endpoint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../test-your-first-playbook/" title="Test Your First Playbook" class="md-nav__link">
      Test Your First Playbook
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Interacting With Humans via Slack
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Interacting With Humans via Slack
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorial-interacting-with-humans-via-slack/" title="Interacting With Humans via Slack" class="md-nav__link">
      Interacting With Humans via Slack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy-socless-slack/" title="Deploy Socless Slack" class="md-nav__link">
      Deploy Socless Slack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../human-interaction-overview/" title="Human Interaction Overview" class="md-nav__link">
      Human Interaction Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prompting-a-user-for-confirmation/" title="Prompt a User for Confirmation" class="md-nav__link">
      Prompt a User for Confirmation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../making-choices-in-playbooks/" title="Making Choices in Playbooks" class="md-nav__link">
      Making Choices in Playbooks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../collect-information-using-a-slack-dialog/" title="Collect Information Using a Slack Dialog" class="md-nav__link">
      Collect Information Using a Slack Dialog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Reference Documentation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Reference Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../socless-and-serverless/" title="Socless & Serverless" class="md-nav__link">
      Socless & Serverless
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../parameter-references-and-template-variables/" title="Parameter References & Template Variables" class="md-nav__link">
      Parameter References & Template Variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../human-interaction-architecture/" title="Human Interaction Architecture" class="md-nav__link">
      Human Interaction Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../state-management-in-socless/" title="State Management in SOCless" class="md-nav__link">
      State Management in SOCless
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../socless-vs-stock-stepfunctions/" title="SOCless vs Stock AWS Step Functions" class="md-nav__link">
      SOCless vs Stock AWS Step Functions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      SOCless Betterments List
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        SOCless Betterments List
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../betterments-list/" title="Betterment List Overview" class="md-nav__link">
      Betterment List Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../betterment-template/" title="Betterment Template" class="md-nav__link">
      Betterment Template
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../faqs/" title="FAQs" class="md-nav__link">
      FAQs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about/" title="About SOCless" class="md-nav__link">
      About SOCless
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="introduction">Introduction</h1>
<p>Socless is deployed using the <a href="https://serverless.com">Serverless Framework</a>.</p>
<p>Socless uses the Serverless Framework as its orchestration technology. All the core infrastructure that powers Socless is deployed via a single Serverless Framework application. Additional functionality (Playbooks, Integrations, Endpoints, etc) are deployed via their own Serverless Framework applications. This means that Socless is designed to be modular and is deployed as such. In this documentation, we'll deploy Socless' core infrastructure. Later documentation will cover the deployment of additional Socless modules like integrations.</p>
<p>Pre-requisites</p>
<ul>
<li>An AWS Account</li>
<li>The <a href="https://serverless.com/framework/docs/providers/aws/guide/installation/">Serverless Framework installed</a></li>
<li>The <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html">aws-cli</a> installed</li>
<li>An <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html#cli-quick-configuration">aws-cli profile configured with access keys</a></li>
<li>Python 3.7, pip and git</li>
</ul>
<p>Once the pre-requisites have been successfully set up, move to the next section</p>
<h1 id="clone-socless">Clone socless</h1>
<p>Start by cloning the Socless repository to any directory on your local machine that you've designated for code projects using the command below:</p>
<pre><code>git clone git@github.com:twilio-labs/socless.git
</code></pre>

<p>Change into the cloned directory and install the deployment dependencies by running the below command</p>
<pre><code>npm install
</code></pre>

<p>Finally, setup and activate a Python3.7 virtual environment using the commands below.</p>
<pre><code>virtualenv --python=python3.7 venv
. venv/bin/activate
</code></pre>

<p>Keep the virtual environment active for the rest of the tutorial</p>
<h1 id="specify-aws-profile">Specify AWS Profile</h1>
<p>Open the package.json file contained in the cloned folder. In the <code>config</code> object, set the <code>aws_profile</code> value to match the name of the AWS CLI profile you configured at the start of the guide. For example, If your configured profile was named <code>default</code>, the <code>config</code> object should look like this:</p>
<pre><code>&quot;config&quot;:{
    &quot;aws_profile&quot;: &quot;default&quot;,
    &quot;dev&quot;: &quot;--stage dev --region us-west-2&quot;,
    &quot;prod&quot;: &quot;--stage prod --region us-east-1&quot;
}
</code></pre>

<h1 id="optional-modify-developmentproduction-environment-config">(Optional) Modify Development/Production environment Config</h1>
<p>By default, Socless supports a development and production environment. The development environment, (dev) is set to AWS us-west-2 region, and the Production environment (prod) is AWS us-east-1 region. If you do not wish to change the deployment regions, you can skip to Deploy section.</p>
<p>If you want to use different regions for dev/prod, change the region specified for them in the config object. For example, the below config uses us-east-2 for dev and us-west-2 for prod.</p>
<pre><code>&quot;config&quot;:{
    &quot;aws_profile&quot;: &quot;default&quot;,
    &quot;dev&quot;: &quot;--stage dev --region us-east-2&quot;,
    &quot;prod&quot;: &quot;--stage prod --region us-west-2&quot;
}
</code></pre>

<p>However, before changing regions, we recommend you review the <a href="https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/">AWS Region Table</a> to ensure that the region you want to use supports all AWS services you may want to integrate with down the line (e.g Amazon SES)</p>
<h1 id="deploy-socless-to-devprod">Deploy socless to dev/prod</h1>
<p>Run the following command within the socless directory to deploy socless dev environment:</p>
<pre><code>npm run dev
</code></pre>

<p>Run the following command within socless directory to deploy socless prod environment:</p>
<pre><code>npm run prod
</code></pre>

<p>Both commands are used to deploy <em>AND redeploy</em> Socless to the dev and prod environments respectively after changes have been made.</p>
<h1 id="review-the-deployment-output">Review the Deployment Output</h1>
<p>The Serverless Framework deploys applications to AWS using the AWS Cloudformation service. Each Serverless application is deployed as a CloudFormation Stack.
If the Socless deployment succeeded, your terminal should show Cloudformation Stack Outputs of the deployed resources. Additionally, if you log into the AWS console and navigate to the Cloudformation service in the region you deployed Socless to, you should find a Cloudformation stack named `socless-</p>
<p>With Socless successfully deployed, you're ready to write <a href="../getting-started/">your first playbook</a></p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Home" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </span>
            </div>
          </a>
        
        
          <a href="../key-concepts-and-terms/" title="Key Concepts and Terms" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Key Concepts and Terms
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:".."}})</script>
      
    
  </body>
</html>